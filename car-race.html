<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Car Race - HeroicP Games</title>
  <link rel="stylesheet" href="styles/car-race.css" />
</head>
<body>
  <div class="game-container">
    <div class="header">
      <h1>Car Race</h1>
      <button class="back-button" onclick="goHome()">← Back to Games</button>
    </div>

    <div class="mode-select" style="margin-bottom: 20px; text-align:center;">
      <label for="mode" style="font-weight:bold;">Mode:</label>
      <select id="mode" style="padding:6px 12px; border-radius:8px; font-size:1rem;">
        <option value="2p">2 Player</option>
        <option value="solo">Solo</option>
      </select>
    </div>

    <div class="game-area">
      <!-- Road lines and middle border -->
      <div class="road-lines" id="roadLines">
        <div class="lane-line" style="left: 16.66%;"></div>
        <div class="lane-line" style="left: 33.33%;"></div>
        <div class="middle-border"></div>
        <div class="lane-line" style="left: 66.66%;"></div>
        <div class="lane-line" style="left: 83.33%;"></div>
      </div>
      <!-- Player cars -->
      <div class="car player1"></div>
      <div class="car player2"></div>

      <!-- SOLO TOP BAR: Score | Time | Highest -->
      <div class="solo-topbar">
        <div id="solo-scoreboard" class="solo-box">
          Score: <span id="soloScore">0</span>
        </div>
        <div class="game-ui solo-box">
          <div class="score">Time: <span id="lapTime">0.00s</span></div>
        </div>
        <div id="solo-highscore" class="solo-box">
          Highest: <span id="soloHighScore">0</span>
        </div>
      </div>

      <!-- 2P Time (fallback for 2p mode, only time box left) -->
      <div class="game-ui two-p-ui">
        <div class="score">Time: <span id="lapTime">0.00s</span></div>
      </div>

      <div class="game-over" id="gameOver" style="display: none;">
        <h2>Race Over!</h2>
        <p><span id="finalPosition">Player crashed!</span></p>
        <p><em>Press SPACE or click to race again</em></p>
        <button class="restart-button" onclick="restartGame()">Race Again</button>
        <button class="home-button" onclick="goHome()">Back to Games</button>
      </div>

      <div class="start-screen" id="startScreen">
        <h2>Ready to Race?</h2>
        <p>Player 1 (Red): Use <b>A</b>/<b>D</b> to move</p>
        <p id="player2-controls">Player 2 (Yellow): Use <b>←</b>/<b>→</b> to move</p>
        <p id="solo-info" style="display:none;">Solo: Use <b>A</b>/<b>D</b> or <b>←</b>/<b>→</b> to move. Only 3 lanes!</p>
        <p>Avoid obstacles and don't cross the middle line!</p>
        <p><em>Press SPACE or click to start!</em></p>
        <button class="start-button" onclick="startGame()">Start Race</button>
      </div>
    </div>

    <div class="controls">
      <p id="controls-text">
        Controls: Player 1 - A/D | Player 2 - ←/→ | SPACE or Click to start/restart
      </p>
    </div>
  </div>

  <footer class="footer">
    <p>&copy; 2025 HeroicP. All rights reserved.</p>
  </footer>

  <script src="script/car-race.js"></script>
</body>
</html>
